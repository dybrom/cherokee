<div class="heading1">
    <h2 style="margin-top:0;">Project History</h2>
</div>
<div class="row" style="display:flex; align-items: center">
    <div class="col-md-4">Project:
        <select ng-model="projId" class="form-control" style="left:0%; margin-left:0;" ng-options="project.id as project.name for project in projects"
            ng-value="project.id" ng-change="listReport()">{{project.name}}}</option>
        </select>
    </div>

</div>
<br>
<br>
<br>
<div ng-show="showing">
    <div class="row" style="display: flex; justify-content:center; margin-bottom:60px;">



        <div class="col-md-3 monthOverview">
            <i class="fa fa-user"></i>
            <strong>{{report.employees.length}}</strong>
            <span>&nbsp;Employees worked</span>
        </div>
        <div class="col-md-3 monthOverview">
            <i class="fa fa-clock-o"></i>
            <strong>{{report.totalHours}}</strong>
            <span>&nbsp;Total Hours</span>
        </div>


    </div>
    <div class="row">
        <div class="col-md-6">
            <div class="cardBox">
                <h5>Hours in project by year & months</h5>

                <canvas id="ProjectHistory" class="chart chart-line" chart-data="dataForProjectHistory" chart-labels="labelsForProjectHistory"
                    chart-series="ProjectHistorySeries" chart-options="OptionsForProjectHistory" chart-colors="colorsForProjectHistory">
                </canvas>
            </div>
        </div>
        <div class="col-md-6">
            <div class="cardBox">
                <h5>Total hours for project by years</h5>
                <canvas id="TotalHoursByYears" class="chart chart-bar" chart-data="dataForTotalHoursByYears" chart-labels="labelsForTotalHoursByYears"
                    chart-options="OptionsForTotalHoursByYears" chart-colors="colorsForTotalHoursByYears">
                </canvas>
            </div>
        </div>
    </div>
    <div>

        <table class="table">
            <tr>
                <th>Employees</th>
                <th>Total</th>
                <th>2016</th>
                <th>2017</th>
                <th>2018</th>
            </tr>

            <tr ng-repeat="employee in report.employees" ng-click="BuildChart($index,report.employees[$index])">
                <td>{{employee.name}}</td>
                <td>{{employee.totalHours}}</td>
                <td>{{employee.sums[0].totalHours}}</td>
                <td>{{employee.sums[1].totalHours}}</td>
                <td>{{employee.sums[2].totalHours}}</td>
            </tr>
            <tr>
                <td>
                    <h4>T O T A L</h4>
                </td>
                <td>
                    <h4>{{report.totalHours}}</h4>
                </td>
                <td>
                    <h4>{{report.total[0].totalHours}}</h4>
                </td>
                <td>
                    <h4>{{report.total[1].totalHours}}</h4>
                </td>
                <td>
                    <h4>{{report.total[2].totalHours}}</h4>
                </td>
            </tr>
        </table>
    </div>
</div>